# Output Directory - Processed DOL Form 5500 Data

**Purpose:** Store processed/transformed CSV files ready for database import

---

## Generated Files

This directory will contain CSV files created by import preparation scripts:

### Form 5500-SF (Short Form)
```
output/form_5500_sf_2023_staging.csv
```
- **Source:** `data/F_5500_SF_2023_latest.csv`
- **Generated by:** `ctb/sys/enrichment/import_5500_sf.py`
- **Records:** 2,000,000+
- **Columns:** 42 (cleaned and mapped to database schema)
- **Use:** Load to `marketing.form_5500_sf_staging` via psql \COPY

### Schedule A (Renewals)
```
output/schedule_a_2023_with_renewals.csv
```
- **Source:** `data/F_SCH_A_2023_latest.csv`
- **Generated by:** `ctb/sys/enrichment/extract_schedule_a_renewals.py`
- **Records:** 1,500,000+
- **Columns:** 8 (core fields + renewal_month + renewal_year)
- **Use:** Load to warehouse or join to form_5500 data

### Schedule A (Joined)
```
output/schedule_a_2023_joined.csv
```
- **Source:** `data/F_SCH_A_2023_latest.csv` + `data/F_5500_2023_latest.csv`
- **Generated by:** `ctb/sys/enrichment/join_form5500_schedule_a.py`
- **Records:** 1,500,000+
- **Columns:** Schedule A fields + sponsor info from main form
- **Use:** Insurance carrier analysis

---

## What Gets Committed to Git?

✅ **Committed:**
- This README.md
- .gitkeep file

❌ **Excluded (in .gitignore):**
- *.csv files (too large)

---

## Workflow

```
┌──────────────────────────────────────────────────────────────────┐
│                      IMPORT PREPARATION FLOW                      │
└──────────────────────────────────────────────────────────────────┘

data/F_5500_SF_2023_latest.csv
    │
    ├─→ python ctb/sys/enrichment/import_5500_sf.py
    │       │
    │       └─→ output/form_5500_sf_2023_staging.csv
    │               │
    │               └─→ psql \COPY to marketing.form_5500_sf_staging
    │                       │
    │                       └─→ CALL process_5500_sf_staging()
    │                               │
    │                               └─→ marketing.form_5500_sf (final table)

data/F_SCH_A_2023_latest.csv
    │
    ├─→ python ctb/sys/enrichment/extract_schedule_a_renewals.py
    │       │
    │       └─→ output/schedule_a_2023_with_renewals.csv
    │
    └─→ python ctb/sys/enrichment/join_form5500_schedule_a.py
            │
            └─→ output/schedule_a_2023_joined.csv
```

---

## File Sizes (Expected)

| File | Size | Records | Processing Time |
|------|------|---------|-----------------|
| form_5500_sf_2023_staging.csv | ~2.5GB | 2M+ | ~3 minutes |
| schedule_a_2023_with_renewals.csv | ~500MB | 1.5M+ | ~2 minutes |
| schedule_a_2023_joined.csv | ~800MB | 1.5M+ | ~3 minutes |

---

## Documentation

See: `ctb/sys/enrichment/FORM_5500_COMPLETE_GUIDE.md` for complete workflow

---

**Status:** Ready for processing
**Last Updated:** 2025-11-27
