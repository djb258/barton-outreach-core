# =====================================================
# Barton Toolbox Hub - Environment Configuration
# =====================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# =====================================================

# -----------------------------------------------------
# NEON DATABASE (Required for all tools)
# -----------------------------------------------------
NEON_HOST=ep-ancient-waterfall-a42vy0du-pooler.us-east-1.aws.neon.tech
NEON_PORT=5432
NEON_DATABASE=Marketing DB
NEON_USER=Marketing DB_owner
NEON_PASSWORD=your_neon_password_here
NEON_ENDPOINT_ID=ep-ancient-waterfall-a42vy0du
NEON_SSL_MODE=require

# Full connection string (alternative to individual params)
NEON_CONNECTION_STRING=postgresql://Marketing_DB_owner:your_password@ep-ancient-waterfall-a42vy0du-pooler.us-east-1.aws.neon.tech:5432/Marketing_DB?sslmode=require

# -----------------------------------------------------
# GOOGLE WORKSPACE INTEGRATION (via Composio MCP)
# -----------------------------------------------------
# For Router (Messy Logic) - Google Sheets integration
GOOGLE_SHEETS_API_KEY=your_google_sheets_api_key
GOOGLE_SERVICE_ACCOUNT_EMAIL=service@svg.agency

# For DocFiller - Google Docs integration
GOOGLE_DOCS_API_KEY=your_google_docs_api_key

# Composio MCP Server
COMPOSIO_MCP_URL=http://localhost:3001
COMPOSIO_API_KEY=ak_t-F0AbvfZHUZSUrqAGNn

# -----------------------------------------------------
# GRAFANA CLOUD (Optional - for Logger/Monitor)
# -----------------------------------------------------
GRAFANA_CLOUD_URL=https://dbarton.grafana.net
GRAFANA_API_TOKEN=your_grafana_api_token
GRAFANA_ORG_ID=1

# -----------------------------------------------------
# BARTON DOCTRINE CONFIGURATION
# -----------------------------------------------------
DOCTRINE_SUBHIVE=04
DOCTRINE_APP=outreach
DOCTRINE_LAYER=04
DOCTRINE_SCHEMA=02
DOCTRINE_VERSION=04
BLUEPRINT_ID=04.svg.marketing.outreach.v1

# -----------------------------------------------------
# N8N WEBHOOK CONFIGURATION
# -----------------------------------------------------
N8N_WEBHOOK_BASE_URL=https://n8n.barton.com
N8N_API_KEY=your_n8n_api_key

# Individual webhook URLs
N8N_ROUTER_WEBHOOK=/hooks/messyflow-router
N8N_VALIDATOR_WEBHOOK=/hooks/validator
N8N_MAPPER_WEBHOOK=/hooks/mapper
N8N_PARSER_WEBHOOK=/hooks/parser
N8N_DOCFILLER_WEBHOOK=/hooks/doc-filler
N8N_LOGGER_WEBHOOK=/hooks/logger

# -----------------------------------------------------
# MASTER HUB API
# -----------------------------------------------------
MASTER_HUB_URL=https://barton-outreach-core.onrender.com
MASTER_HUB_API_KEY=your_master_hub_api_key

# -----------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_OUTPUTS=neon,grafana,console

# -----------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------
RATE_LIMIT_PER_TOOL_PER_MINUTE=60
RATE_LIMIT_GLOBAL_PER_MINUTE=300

# -----------------------------------------------------
# KILL SWITCH THRESHOLDS
# -----------------------------------------------------
ROUTER_KILL_SWITCH_THRESHOLD=0.5
VALIDATOR_KILL_SWITCH_FAILURES=100
MAPPER_KILL_SWITCH_ERRORS=50
PARSER_KILL_SWITCH_FAILURES=20
DOCFILLER_KILL_SWITCH_ERRORS=10
LOGGER_KILL_SWITCH_CRITICAL=5

# -----------------------------------------------------
# ENRICHMENT AGENTS (Optional)
# -----------------------------------------------------
APIFY_API_KEY=your_apify_api_key
ABACUS_API_KEY=your_abacus_api_key
FIRECRAWL_API_KEY=your_firecrawl_api_key

# -----------------------------------------------------
# DEVELOPMENT / DEBUG
# -----------------------------------------------------
DEBUG_MODE=false
DEVELOPMENT_MODE=false
VERBOSE_LOGGING=false

# -----------------------------------------------------
# FRONTEND CONFIGURATION (Lovable)
# -----------------------------------------------------
VITE_MASTER_HUB_API_URL=https://barton-outreach-core.onrender.com
VITE_API_TIMEOUT=30000
VITE_ENABLE_ANALYTICS=true

# -----------------------------------------------------
# SECURITY
# -----------------------------------------------------
JWT_SECRET=your_jwt_secret_here
API_KEY=your_api_key_here
CORS_ALLOWED_ORIGINS=https://barton-outreach-core.onrender.com,http://localhost:5173

# -----------------------------------------------------
# OPTIONAL: EXTERNAL SERVICES
# -----------------------------------------------------
# HeyReach (for messaging)
HEYREACH_API_KEY=your_heyreach_api_key

# Firebase (MCP integration)
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY=your_firebase_private_key
FIREBASE_CLIENT_EMAIL=your_firebase_client_email

# Render deployment
RENDER_EXTERNAL_URL=https://barton-outreach-core.onrender.com
RENDER_SERVICE_NAME=barton-outreach-core

# Vercel deployment (frontend)
VERCEL_URL=https://barton-toolbox-hub.vercel.app
VERCEL_ENV=production
