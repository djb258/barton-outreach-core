{
  "tool_id": "router",
  "name": "Router (Messy Logic)",
  "blueprint_id": "04.svg.marketing.outreach.v1",
  "barton_id": "04.04.02.04.10000.001",
  "altitude": 20000,
  "version": "1.0.0",
  "description": "Intake router for invalid data - tags payloads and forwards to Google Sheets for manual review",
  "neon_tables": {
    "input": "marketing.pipeline_errors",
    "output": "marketing.duplicate_queue",
    "audit": "shq.audit_log",
    "error": "shq.error_master"
  },
  "dependencies": {
    "google_sheets_api": "required",
    "neon_db": "required"
  },
  "kill_switch": {
    "enabled": true,
    "condition": "error_rate > 0.5",
    "action": "halt_and_notify"
  },
  "environment_variables": [
    "NEON_CONNECTION_STRING",
    "GOOGLE_SHEETS_API_KEY",
    "GOOGLE_SERVICE_ACCOUNT_EMAIL"
  ],
  "api_endpoints": {
    "route_error": "/api/messyflow/route",
    "create_sheet": "/api/messyflow/sheet/create",
    "sync_sheet": "/api/messyflow/sheet/sync",
    "health": "/api/messyflow/health"
  },
  "n8n_integration": {
    "webhook_url": "/hooks/messyflow-router",
    "event_types": [
      "validation.failed",
      "duplicate.detected",
      "enrichment.invalid"
    ],
    "response_format": "heir_orbt"
  }
}
