# Company Target Pipeline Re-Run Report

**Execution Date**: 2026-02-02 13:45 UTC
**Executor**: Pipeline Execution Agent
**Mode**: CT DONE Completion Attempt

---

## Executive Summary

| Metric | Count |
|--------|-------|
| Records Attempted | 4,314 |
| Records Completed CT_DONE | 0 |
| Records Failed | 0 |
| Records Promoted to TIER_0 | 0 |
| **Blocked by Data Gap** | **4,314** |

---

## Blocking Issue: Upstream Data Gap

**CT DONE requires** (from `DONE_STATE_DEFINITIONS.md`):
- `execution_status = 'ready'`
- `email_method IS NOT NULL`
- `confidence_score IS NOT NULL`
- `imo_completed_at IS NOT NULL`

**Pipeline cannot complete** because source data is missing:

| Category | Count | Issue |
|----------|-------|-------|
| Pending CT - Missing company_master data | 2,705 | No domain, no email pattern |
| Failed CT - Missing company_master data | 842 | No domain, no email pattern |
| No CT record | 767 | CT record never created |
| **Total Blocked** | **4,314** | **Upstream enrichment needed** |

---

## Analysis: NOT_READY CT Record State

### Pending CT Records (2,705)

| Status | email_method | confidence_score | imo_completed_at | Count |
|--------|--------------|-----------------|------------------|-------|
| pending | NULL | NULL | NULL | 2,692 |
| pending | NULL | NULL | HAS_VALUE | 13 |

These records are waiting for pipeline execution, but the pipeline cannot run without upstream data.

### Failed CT Records (842)

| Status | email_method | confidence_score | imo_completed_at | Count |
|--------|--------------|-----------------|------------------|-------|
| failed | NULL | NULL | HAS_VALUE | 842 |

These records attempted processing (`imo_completed_at` is set) but failed because upstream data was missing.

### Missing CT Records (767)

No `company_target` record exists for these outreach_ids. The CT pipeline never ran for them.

---

## Company Master Data Status

For ALL 4,314 NOT_READY records, the associated `company_master` records are missing enrichment data:

| Data Status | Count | Notes |
|-------------|-------|-------|
| Missing Both (domain + pattern) | 4,314 | 100% of NOT_READY |
| Has Domain Only | 0 | — |
| Has Both | 0 | — |

---

## Why Pipeline Cannot Complete

The Company Target pipeline workflow:

```
company_master (domain, email_pattern)
        │
        ▼ (lookup)
outreach.company_target
        │
        ▼ (derive email_method, confidence_score)
CT DONE = TRUE
```

**Without domain/email_pattern in company_master**, the pipeline cannot:
1. Determine the email method (catch-all, SMTP verification, etc.)
2. Calculate confidence score
3. Mark execution as ready

---

## Root Cause

These 4,314 companies were added to the outreach funnel **without upstream enrichment**:
- Company names exist but were never domain-resolved
- Domains were never discovered via external tools
- Email patterns were never discovered

This is an **enrichment gap**, not a pipeline failure.

---

## Actions Taken

| Action | Count | Result |
|--------|-------|--------|
| Attempted CT completion | 4,314 | BLOCKED |
| Forced promotions | 0 | NOT ALLOWED (gates enforced) |
| Data fixes | 0 | NO DATA TO FIX |

---

## Required Remediation (Pipeline Team)

To move these records to TIER_0, the following enrichment must happen first:

### Step 1: Domain Discovery
For 4,314 companies without domains:
- Run Phase 2 domain detection
- Sources: Website scraping, DNS lookup, search engine inference

### Step 2: Email Pattern Discovery
For companies with domains but no patterns:
- Run Phase 3 email pattern waterfall
- Sources: MillionVerifier, pattern inference, SMTP probing

### Step 3: CT Pipeline Execution
After enrichment:
- Run CT pipeline to populate email_method, confidence_score
- Mark execution_status = 'ready'

### Estimated Effort

| Step | Records | Estimated Cost |
|------|---------|----------------|
| Domain discovery | 4,314 | External tool required |
| Pattern discovery | ~4,000 | ~$180-400 (MillionVerifier) |
| CT completion | ~3,500 | $0 (local) |

---

## Compliance Statement

This execution:
- [x] Did NOT bypass promotion gates
- [x] Did NOT override blocking errors
- [x] Did NOT force CT DONE without data
- [x] Maintained audit trail
- [x] Identified root cause accurately

---

## Conclusion

**CT Pipeline re-execution is blocked by upstream data gap.**

The 4,314 NOT_READY records cannot be promoted until:
1. Domain enrichment runs (external tool)
2. Email pattern discovery runs (MillionVerifier)
3. CT pipeline processes the enriched data

No policy or enforcement bypass can resolve this. The data simply doesn't exist.

---

**Generated by**: Pipeline Execution Agent
**Timestamp**: 2026-02-02T13:45:00Z
