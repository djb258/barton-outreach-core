# UI Constitution

**Status**: DERIVED
**Authority**: SUBORDINATE TO CANONICAL DOCTRINE
**Version**: 1.0.0
**Generated**: 2026-01-29
**Regenerable**: YES

---

## Purpose

This document governs all UI implementations within barton-outreach-core. The UI layer exists solely for **presentation and event emission**. It owns no schema, no persistence, and no business logic.

---

## Authority Chain

```
UI_CONTROL_CONTRACT.json (machine authority)
        ↓
UI_CONSTITUTION.md (prose governance - THIS FILE)
        ↓
UI_PRDs (per hub)
        ↓
UI_ERDs (mirrored from canonical)
        ↓
UI implementation (tool-specific)
```

**The UI derives all authority from canonical PRD/ERD/Process.**
**The UI is presentation-only.**
**The UI is fully disposable and regenerable.**

---

## UI-Specific IMO Discipline

| Layer | Role | Examples |
|-------|------|----------|
| **Ingress** | User input only | Form submissions, button clicks, filter selections |
| **Middle** | Layout + ephemeral state only | Component rendering, local UI state, navigation |
| **Egress** | Intent / event emission only | API calls, webhook triggers, action dispatches |

---

## Explicit Prohibitions

The UI layer MUST NEVER:

| Prohibition | Reason |
|-------------|--------|
| Mutate schema | UI owns no schema |
| Create tables | Schema authority lives in ERD |
| Define joins | Relationship authority lives in ERD |
| Execute business logic | Logic authority lives in M layer |
| Persist data directly | Persistence authority lives in backend |
| Introduce new entities | Entity authority lives in PRD/ERD |
| Introduce new fields | Field authority lives in ERD |
| Infer relationships | All relationships are declared |

---

## UI Surfaces by Hub

| Hub | UI Surface | Type |
|-----|------------|------|
| Company Hub | Company Dashboard | Read-only + Event-emitting |
| Company Hub | Marketing Eligibility View | Read-only |
| People Hub | Slot Assignment UI | Event-emitting |
| DOL Hub | Filing Status View | Read-only |
| BIT Engine | Score Dashboard | Read-only |
| Kill Switch | Override Console | Event-emitting |

---

## Event Emission Pattern

UI surfaces that emit events MUST follow this pattern:

```
User Action → UI Component → Event Dispatch → Backend API → Response → UI Update
```

The UI never:
- Writes directly to database
- Bypasses API layer
- Performs server-side logic

---

## Failure State Display

UI surfaces display failures but do not remediate them:

| Failure Type | UI Responsibility |
|--------------|-------------------|
| API error | Display error message |
| Validation failure | Display field errors |
| Authorization failure | Display access denied |
| System error | Display generic error + support contact |

**The UI reports. It does not fix.**

---

## Regeneration Contract

This file and all files under `docs/ui/` are:

- **Derived** from canonical PRD/ERD/Process
- **Fully regenerable** by running UI_DOCTRINE_REGENERATOR.prompt.md
- **Never hand-edited** (edits will be overwritten)

Changes to canonical doctrine automatically invalidate this UI doctrine.

---

## Referenced Documents

| Document | Purpose |
|----------|---------|
| `docs/system/SYSTEM_MODEL.json` | Machine-readable system model |
| `docs/prd/*.md` | Canonical PRDs |
| `docs/ERD_SUMMARY.md` | Canonical ERD |
| `templates/claude/UI_DOCTRINE_REGENERATOR.prompt.md` | Regeneration prompt |

---

## Document Control

| Field | Value |
|-------|-------|
| Generated By | Claude Code |
| Generated From | Canonical PRD/ERD |
| Authority | DERIVED (subordinate to canonical) |
| Regenerable | YES |
| Change Protocol | Regenerate, do not edit |
