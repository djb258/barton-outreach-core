{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "meta": {
    "name": "IMO_CONTROL",
    "version": "1.0.0",
    "created": "2026-01-28",
    "authority": "imo-creator",
    "status": "ACTIVE",
    "description": "Child repo governance contract",
    "constitution_file": "CONSTITUTION.md"
  },

  "control_plane": {
    "control_version": "1.0.0",
    "upstream_repo": "imo-creator",
    "upstream_commit": "0074aa1",
    "drift_detection": {
      "enabled": true,
      "warn_on_outdated": true,
      "check_frequency": "on_audit"
    }
  },

  "governance": {
    "sovereign": "imo-creator",
    "sovereignty_type": "INHERITED",
    "conformance_direction": "UPSTREAM",
    "interpretation_allowed": false,
    "modification_requires": ["ADR", "HUMAN_APPROVAL"]
  },

  "identity": {
    "repo_name": "barton-outreach-core",
    "hub_id": "HUB-OUTREACH-001",
    "sovereign_reference": "CL-01",
    "domain_spec": "doctrine/REPO_DOMAIN_SPEC.md"
  },

  "lifecycle": {
    "current_phase": "dba_enforcement",
    "allowed_phases": [
      "constitutional_admission",
      "structural_instantiation",
      "data_declaration",
      "execution_wiring",
      "dba_enforcement",
      "documentation_enforcement",
      "hygiene_audit",
      "cleanup_execution"
    ]
  },

  "structure": {
    "model": "HUB_SUBHUB_ALTITUDE",
    "hub": {
      "definition": "Repository root = Hub",
      "required_files": [
        "REGISTRY.yaml",
        "DOCTRINE.md",
        "README.md"
      ]
    },
    "altitude": {
      "branches": ["sys", "data", "app", "ai", "ui"],
      "path_pattern": "src/{sys,data,app,ai,ui}/",
      "enforcement": "MANDATORY"
    }
  },

  "forbidden": {
    "folders": ["utils", "helpers", "common", "shared", "lib", "misc"]
  },

  "isolated_lanes": {
    "lane_a": {
      "name": "Appointment Reactivation",
      "schema": "sales",
      "tables": ["appointment_history"],
      "bit_table": "bit.reactivation_intent",
      "connection_to_outreach": "NONE"
    },
    "lane_b": {
      "name": "Fractional CFO Partners",
      "schema": "partners",
      "tables": ["fractional_cfo_master", "partner_appointments"],
      "bit_table": "bit.partner_intent",
      "connection_to_outreach": "NONE"
    }
  },

  "claude_code_behavior": {
    "must": [
      "Check IMO_CONTROL.json exists before any work",
      "Read doctrine/REPO_DOMAIN_SPEC.md for domain bindings",
      "Enforce CTB altitude structure",
      "Refuse to modify parent doctrine",
      "Respect lane isolation (Lane A and Lane B are disconnected)",
      "Never create FKs from isolated lanes to outreach.outreach"
    ],
    "must_not": [
      "Modify parent doctrine files",
      "Skip descent gates",
      "Invent structure beyond doctrine",
      "Join sales.* to partners.*",
      "Join isolated lanes to main outreach spine",
      "Create cross-lane foreign keys"
    ]
  }
}
